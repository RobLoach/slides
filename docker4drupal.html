<!DOCTYPE html><head lang="en"><meta charset="utf-8"><title>Rob Loach</title><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="generator" content="DocPad v6.79.4" /><link  rel="stylesheet" href="main.css" /></head><body><div class="reveal"><div class="slides"><!-- Title--><section data-background="2017-10-18-docker4drupal/docker4drupal.jpeg"><h1>Docker4Drupal</h1><p>By <a href="http://robloach.net">Rob Loach</a> - Kalamuna</p><p><small>October 19th, 2017 - <a href="https://2017.badcamp.net">BADCamp, 2017</a></small></p><p><a href="http://robloach.github.io/slides">robloach.github.io/slides</a></p></section><!-- Rob Loach--><section data-background="2017-10-18-docker4drupal/robloach.jpg"><h2>Rob Loach</h2><p><a href="http://robloach.net">robloach.net</a> / <a href="http://robloach.net">@RobLoach</a> / <a href="http://github.com/robloach">GitHub</a></p><p><a href="http://robloach.net"><img src="robloach.jpg"/></a></p><p><a href="http://kalamuna.com">Kalamuna</a></p></section><!-- Local Development Sucks--><section data-background="2017-10-18-docker4drupal/picardfacepalm.gif"><h2>Local Development Suck</h2><ul><li class="fragment">Difficult to install complete stacks<ul class="fragment"><li>Web server? Apache, Nginx, Express</li><li class="fragment">Language? PHP, Node.js, Python</li><li class="fragment">Database? MySQL, Postgres, CouchDB</li></ul></li><li class="fragment">Unable to switch services</li><li class="fragment">Slow re-install process</li><li class="fragment">Version inconsistancy across team</li></ul></section><!-- Docker4Drupal--><section data-background="2017-10-18-docker4drupal/data.gif"><div><h2>"VMs are out, Containers are in"</h2><h4>-- Michelle Krejci</h4></div><ul class="fragment"><li>DDev</li><li>Lando</li><li>Outrigger</li></ul></section><!-- Docker4Drupal--><section data-background="2017-10-18-docker4drupal/data.gif"><h2>Docker4Drupal</h2><ul><li class="fragment">Optimized Docker Containers for Drupal</li><li class="fragment">Simple Docker Compose Configs</li><li class="fragment">Focus on local development</li><li class="fragment">Unique per project</li><li class="fragment">Swappable Services</li></ul></section><!-- Services--><section data-background="2017-10-18-docker4drupal/scotty.gif"><h2>Features</h2><ul><li class="fragment">Simple to setup</li><li class="fragment">Servers: Nginx, Apache</li><li class="fragment">Platform: Drupal 6, 7, 8</li><li class="fragment">PHP: 5.3, 5.6, 7.0, 7.1</li><li class="fragment">Database: MariaDB</li><li class="fragment">Other stuffs: Redis, Varnish, Solr, Node.js, Memcache, Webgrid, Blackfire, Syslog, AthenaPDF, Mailhog, Adminer, phpMyAdmin, Portainer, Traefik</li></ul></section><!-- Installing--><section data-background="2017-10-18-docker4drupal/transport.gif"><h2>Installation</h2><div class="fragment"><img src="2017-10-18-docker4drupal/dockerlogo.png"/></div><h4 class="fragment">1. Docker</h4><h4 class="fragment">2. Docker Compose</h4></section><!-- PHP Usage of Composer--><section data-background="2017-10-18-docker4drupal/two.gif"><h2>Two Methods</h2><h5><a href="https://github.com/wodby/docker4drupal">github.com/wodby/docker4drupal</a></h5><h3 class="fragment">1. Vanilla</h3><h3 class="fragment">2. Mounted</h3></section><!-- PHP Usage of Composer--><section data-background="2017-10-18-docker4drupal/vanilla.gif"><h2>Vanilla</h2><ul><li class="fragment">Download docker-compose.yml</li><li class="fragment">docker-compose up</li><li class="fragment">http://drupal.docker.localhost:8000</li></ul></section><section data-background="2017-10-18-docker4drupal/yes.gif"><h2>Mounted</h2><ul><li class="fragment">Download docker-compose.yml to your Drupal root</li><li class="fragment">Update nginx/php mount locations<ul><li><code>./:/var/www/html</code></li></ul></li><li class="fragment">Update settings.php to match MariaDB service</li><li class="fragment"><code>docker-compose up</code></li><li class="fragment">http://drupal.docker.localhost:8000</li></ul></section><section data-background="2017-10-18-docker4drupal/but.gif"><h2>But what about...</h2><div class="fragment"><h4>Composer</h4><code>docker-compose run php composer</code></div><div class="fragment"><h4>Drush</h4><code>docker-compose run php drush</code></div><div class="fragment"><h4>Drupal Console</h4><code>docker-compose run php drupal</code></div><div class="fragment"><h4>"SSH in?"</h4><code>docker-compose run php bash</code></div></section><section data-background="2017-10-18-docker4drupal/riker.gif"><h2>Exposing Services</h2><h4 class="fragment">Traefik manages routing</h4><pre class="fragment"><code>labels:</code><code>- 'traefik.backend=pma'</code><code>- 'traefik.port=80'</code><code>- 'traefik.frontend.rule=Host:pma.project.docker.localhost'</code></pre><p class="fragment">pma.drupal.docker.localhost:8000</p><p class="fragment">adminer.drupal.docker.localhost:8000</p><p class="fragment">servicename.drupal.docker.localhost:8000</p></section><section data-background="2017-10-18-docker4drupal/ships.gif"><h2>What Now?</h2><ul><li class="fragment">Add docker-compose.yml to EVERYTHING</li><li class="fragment">Containerize all services</li><li class="fragment">Standardize stack from local to production</li><li class="fragment">Ease team on-boarding</li><li class="fragment">Hosting: Lagoon/Platform.sh/Pantheon/DO</li><li class="fragment">We need to go deeper<ul><li class="fragment">ChatOps? IRC, Slack?</li><li class="fragment">AI?</li></ul></li></ul></section><section><h2>"Simplify, Simplify, Simplify"</h2><h4>-- Henry David Thoreau</h4></section><!-- Composer Global--><section data-background="2017-10-18-docker4drupal/engage.gif"><h2><code>docker-compose down</code></h2><ul><li><a href="http://robloach.github.io/slides">robloach.github.io/slides</a></li><li>docs.docker4drupal.org</li><li>github.com/wodby/docker4drupal</li><li>docs.docker.com/compose</li></ul></section><section data-background="2017-10-18-docker4drupal/livelong.gif"><h2>Thank You</h2><h5><a href="http://robloach.github.io/slides">robloach.github.io/slides</a></h5></section></div></div><script defer="defer" async="async"  src="main.js"></script></body>